{"version":3,"sources":["uni-app:///main.js","webpack:////Users/liaowenbin/iCollections/Project/baidu/1futureEmail/uniapp/futureEmail/pages/setemail/setemail.vue?27e2","webpack:////Users/liaowenbin/iCollections/Project/baidu/1futureEmail/uniapp/futureEmail/pages/setemail/setemail.vue?bc58","webpack:////Users/liaowenbin/iCollections/Project/baidu/1futureEmail/uniapp/futureEmail/pages/setemail/setemail.vue?f16c","webpack:////Users/liaowenbin/iCollections/Project/baidu/1futureEmail/uniapp/futureEmail/pages/setemail/setemail.vue?2da2","uni-app:///pages/setemail/setemail.vue","webpack:////Users/liaowenbin/iCollections/Project/baidu/1futureEmail/uniapp/futureEmail/pages/setemail/setemail.vue?1dcc","webpack:////Users/liaowenbin/iCollections/Project/baidu/1futureEmail/uniapp/futureEmail/pages/setemail/setemail.vue?7014"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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PA;AAQA,8DARA;AASA,yCATA,CASA;AATA,iBAHA;AAcA,uBAdA,mBAcA,CAdA,EAcA;AACA;AACA,yCADA;;AAGA,iBAlBA;;AAoBA,aAtBA;AAuBA;AACA;AACA,qCADA;;AAGA;AACA,WAhCA;;AAkCA;;AAEA;AA1CA,WA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+CADA;AAEA,+EAFA;AAGA,2EAHA;AAIA,yEAJA;AAKA,6CALA,EAKA;AACA;AACA,mCADA;;AAGA;;AAEA;AAXA,eAYA;AACA;;AAEA;AACA;AACA,6BADA;AAEA,iCAFA;AAGA,uBAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA,kEADA;AAEA,oCAFA;AAGA;AACA,6CADA;AAEA,+CAFA;AAGA,qDAHA;AAIA,iDAJA;AAKA,iDALA;AAMA,6CANA;AAOA,2CAPA;AAQA,oEARA;AASA,+CATA,EAHA;;AAcA,6BAdA,mBAcA,GAdA,EAcA;AACA;AACA;AACA,iDADA;;AAGA;AACA,uBApBA;;AAsBA,mBAvBA,MAuBA;AACA;AACA,2CADA;;AAGA;AACA,iBAhCA;;;;AAoCA;AACA;AACA,KA/IA;;AAiJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KA3JA;AA4JA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA,KAzKA;AA0KA;AACA;AACA;AACA;AACA;AACA;AACA,KAhLA;AAiLA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAxLA;AAyLA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1MA;AA2MA;AACA;AACA;AACA;AACA;AACA;AACA,KAjNA;AAkNA;AACA;AACA,+BADA,EACA;AACA,iCAFA,EAEA;AACA,0BAHA,EAGA;AACA,2EAJA,EAIA;AACA,mFALA,EAKA;AACA,mFANA,CADA,CAOA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBADA;AAEA,oBAFA;AAGA,gBAHA;AAIA,kBAJA;AAKA,sBALA;AAMA,sBANA;;AAQA,KAxOA;AAyOA;AACA;AACA;AACA;AACA;;AAEA,KA/OA;AAgPA;AACA;AACA;AACA,KAnPA;AAoPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAjQA;AAkQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhRA;AAiRA;AACA;AACA;AACA;;AAEA;AACA,KAvRA;AAwRA;AACA;AACA;AACA;AACA;AACA,KA7RA;AA8RA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,oBAFA;;AAIA,OALA,MAKA;AACA;AACA,yBADA;AAEA,oBAFA;;AAIA,OALA,MAKA;AACA;AACA,yBADA;AAEA,oBAFA;;AAIA;AACA;AANA;AAQA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BADA;AAEA,sBAFA;;;;AAMA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0DADA;AAEA,4BAFA;AAGA;AACA,qCADA;AAEA,uCAFA;AAGA,6CAHA;AAIA,yCAJA;AAKA,yCALA;AAMA,qCANA;AAOA,mCAPA;AAQA,4DARA;AASA,uCATA,CASA;AATA,eAHA;AAcA,qBAdA,mBAcA,GAdA,EAcA;AACA;AACA;AACA,+GADA;;AAGA;AACA,eApBA;;;AAuBA,WA7BA,MA6BA;AACA;AACA;AACA,iDADA;AAEA,iFAFA;AAGA,6EAHA;AAIA,2EAJA;AAKA,+CALA,EAKA;AACA;AACA,2GADA;;AAGA;;AAEA;AAXA,iBAYA;AACA;AACA,8DADA;AAEA,gCAFA;AAGA;AACA,yCADA;AAEA,2CAFA;AAGA,iDAHA;AAIA,6CAJA;AAKA,6CALA;AAMA,yCANA;AAOA,uCAPA;AAQA,gEARA;AASA,2CATA,CASA;AATA,mBAHA;AAcA,yBAdA,mBAcA,GAdA,EAcA;AACA;AACA;AACA;AACA,mHADA;;AAGA;AACA,mBArBA;;;AAwBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAzaA;;;;AA6aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzmBA,C;;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAsnD,CAAgB,q6CAAG,EAAC,C;;;;;;;;;;;ACA1oD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/setemail/setemail.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/setemail/setemail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./setemail.vue?vue&type=template&id=6a529fc6&\"\nvar renderjs\nimport script from \"./setemail.vue?vue&type=script&lang=js&\"\nexport * from \"./setemail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setemail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/setemail/setemail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setemail.vue?vue&type=template&id=6a529fc6&\"","var components\ntry {\n  components = {\n    myEmail: function() {\n      return import(\n        /* webpackChunkName: \"components/my-email/my-email\" */ \"@/components/my-email/my-email.vue\"\n      )\n    },\n    uniCalendar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-calendar/components/uni-calendar/uni-calendar\" */ \"@/uni_modules/uni-calendar/components/uni-calendar/uni-calendar.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setemail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setemail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"setemail\">\r\n\t\t\r\n\t\t<!-- 自定义导航栏 -->\r\n\t\t<button class=\"buttonReturn\" type=\"default\" @click=\"returnIndex\">返回主页</button> <!-- 返回主页 -->\r\n\t\t<view class=\"back-btn iconfont iconarrow_btn_left\">\r\n\t\t\t\t\t<text class=\"nav-title\">信封编辑</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t\t<view class=\"bg\">\r\n\t\t\t<!-- // 主信封 -->\r\n\t\t\t<view class=\"zhizhang\">\r\n\t\t\t\t<my-email :shoujianren=\"shoujianren\" :jijianren=\"jijianren\" :startTime=\"startTime\" :endTime=\"endTime\"\r\n\t\t\t\t\t:beizhu=\"beizhu\" :stampfile=\"youpiaoList[indexpic].url\" :focusCss=true >\r\n\t\t\t\t</my-email>\r\n\t\t\t\t<view class=\"youpiaoTian\" @click=\"youpiaoClick\"></view>\r\n\t\t\t\t<view class=\"shoujianTian\" @click=\"shoujianClick\"></view>\r\n\t\t\t\t<view class=\"endTimeTian\" @click=\"endTimeClick\"></view>\r\n\t\t\t\t<!-- <image class=\"youpiaoTian\" :src=\" youpiaoList[indexpic].url \" mode=\"scaleToFill\" @click=\"youpiaoClick\">\r\n\t\t\t\t</image> -->\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<input class=\"beizhuTian\" v-model=\"beizhu.ziti1\" maxlength=51 @focus=\"beizhuGet\" @blur=\"beizhuFinish\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- // 填写收信人 -->\r\n\t\t\t<view class=\"shoujianMessage\" v-if=\"shoujianMessageShow\">\r\n\t\t\t\t<view class=\"messageHeader\">————收件人信息————</view>\r\n\t\t\t\t<view class=\"Who\">\r\n\t\t\t\t\t<radio-group @change=\"chooseWho\">\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<radio :value=\"1\" :checked=\"bottomDiv==1\" /><text>未来自己</text>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<radio :value=\"2\" :checked=\"bottomDiv==2\" /><text>电子邮箱</text>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<radio :value=\"3\" :checked=\"bottomDiv==3\" /><text>小程序好友</text>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</radio-group>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"gerensent\" v-if=\"bottomDiv==1\">我是{{shoujianren}}</view>\r\n\t\t\t\t<view class=\"emailsent\" v-else-if=\"bottomDiv==2\">发邮箱[尚未开发]</view>\r\n\t\t\t\t<view class=\"weixinsent\" v-else-if=\"bottomDiv==3\">发微信[尚未开发]</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- // 填写截止时间 -->\r\n\t\t\t<view class=\"endTimeTian\" v-if=\"endTimeShow\">\r\n\t\t\t\t<uni-calendar :insert=\"true\" :lunar=\"true\" :date=\"endDateStr\" :start-date=\"endDateStr\"\r\n\t\t\t\t\t@change=\"endTimechange\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 填写邮票 -->\r\n\t\t\t<view class=\"youpiaoMessage\" v-if=\"youpiaoShow\" @touchstart='start' @touchmove='move' @touchend='end'\r\n\t\t\t\t:style=\"{ width: this.fuckwidth }\">\r\n\t\t\t\t<!-- \t\t\t\t<image class=\"leftImg\" src=\"../../static/youpiao1.jpg\" mode=\"scaleToFill\"></image> -->\r\n\t\t\t\t<view class=\"zuoAnniu\" @click=\"zuof\">按钮</view>\r\n\t\t\t\t<image class=\"MiddleImg\" :src=\" youpiaoList[indexpic].url \" mode=\"scaleToFill\"></image>\r\n\t\t\t\t<view class=\"youAnniu\" @click=\"youf\">按钮</view>\r\n\t\t\t\t<!-- \t\t\t\t<image class=\"rightImg\" src=\"../../static/youpiao3.jpg\" mode=\"scaleToFill\"></image>-->\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 提交按钮 -->\r\n\t\t\t<button class=\"buttonWrite\" type=\"default\" @click=\"startWrite\">开始写信</button>\r\n\t\t\t\r\n\t\t\t<!-- 删除 -->\r\n\t\t\t<button v-show=\"haveSave\" class=\"buttonDelete\" type=\"default\" @click=\"deleteLetter\">删除</button>\r\n\t\t\t\r\n\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 用户信息\r\n\t\t\t\thaveSave: false,\r\n\t\t\t\tsession: '',\r\n\t\t\t\tletterid: '',\r\n\t\t\t\t\r\n\t\t\t\t// 信封上的数据\r\n\t\t\t\tshoujianren: '', //不能超过四个字\r\n\t\t\t\tjijianren: '', //不能超过四个字\r\n\t\t\t\tstartTime: {\r\n\t\t\t\t\tyear: '',\r\n\t\t\t\t\tmonth: '',\r\n\t\t\t\t\tday: ''\r\n\t\t\t\t},\r\n\t\t\t\tendTime: {\r\n\t\t\t\t\tyear: '',\r\n\t\t\t\t\tmonth: '',\r\n\t\t\t\t\tday: ''\r\n\t\t\t\t},\r\n\t\t\t\tbeizhuAll: ' ',\r\n\t\t\t\tbeizhu: { //不能超过51个字一共，每行17个字\r\n\t\t\t\t\tziti1: '',\r\n\t\t\t\t\tziti2: '',\r\n\t\t\t\t\tziti3: ''\r\n\t\t\t\t},\r\n\t\t\t\t// 用于检查数据的变动\r\n\t\t\t\tshoujianren_last: '',\r\n\t\t\t\tjijianren_last: '', \r\n\t\t\t\tstartTime_last: {},\r\n\t\t\t\tendTime_last : {},\r\n\t\t\t\tbeizhu_last : {},\r\n\t\t\t\tindexpic_last : 0,\r\n\t\t\t\t\r\n\r\n\t\t\t\t//收件人信息\r\n\t\t\t\tshoujianMessageShow: false,\r\n\t\t\t\tbottomDiv: 0,\r\n\r\n\t\t\t\t//截止时间\r\n\t\t\t\tendTimeShow: false,\r\n\t\t\t\tendDateStr: '',\r\n\r\n\t\t\t\t// 邮票数据\r\n\t\t\t\tyoupiaoShow: false,\r\n\t\t\t\tfuckwidth: \"700rpx\",\r\n\t\t\t\tyoupiaoList: [{\r\n\t\t\t\t\t\tlabel: '000',\r\n\t\t\t\t\t\tfree: true,\r\n\t\t\t\t\t\turl: '',\r\n\t\t\t\t\t\tad: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '001',\r\n\t\t\t\t\t\tfree: true,\r\n\t\t\t\t\t\turl: 'https://afflatus.xyz/image/youpiao1.jpg',\r\n\t\t\t\t\t\tad: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '002',\r\n\t\t\t\t\t\tfree: true,\r\n\t\t\t\t\t\turl: 'https://afflatus.xyz/image/youpiao2.jpg',\r\n\t\t\t\t\t\tad: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '003',\r\n\t\t\t\t\t\tfree: true,\r\n\t\t\t\t\t\turl: 'https://afflatus.xyz/image/youpiao3.jpg',\r\n\t\t\t\t\t\tad: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tindexpic: 0,\r\n\t\t\t\tpicnum: 0,\r\n\t\t\t\t\r\n\t\t\t\tstartData: {\r\n\t\t\t\t\tclientX: 0,\r\n\t\t\t\t\tclientY: 0\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonLoad: function(data) {\r\n\t\t\tvar self = this\r\n\t\t\t//若当前页面不是新建，而是编辑草稿，需要加载信封内容（通过当前函数获取上一个页面传的参来判断）\r\n\t\t\tthis.session = data.session\r\n\t\t\tthis.haveSave = data.haveSave == \"true\"\r\n\t\t\tconsole.log(data)\r\n\t\t\t// 若之前已经保存过服务器,则加载进来\r\n\t\t\tif(this.haveSave){\r\n\t\t\t\tthis.letterid = data.letterid\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:'https://afflatus.xyz/loadLetterHead',\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tsession: self.session,\r\n\t\t\t\t\t\tletterid: self.letterid\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif(res.data.status==200){\r\n\t\t\t\t\t\t\t// console.log(res.data)\r\n\t\t\t\t\t\t\t// self.letterHeadList = res.data.letterhead\r\n\t\t\t\t\t\t\tself.shoujianren = res.data.data.receiveUsername;\r\n\t\t\t\t\t\t\tself.jijianren = res.data.data.sentUsername;\r\n\t\t\t\t\t\t\tself.startTime = JSON.parse(res.data.data.startTime);\r\n\t\t\t\t\t\t\tself.endTime = JSON.parse(res.data.data.endTime);\r\n\t\t\t\t\t\t\tself.beizhu = JSON.parse(res.data.data.remarks);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor(var item in self.youpiaoList){ //遍历邮票是哪个index\r\n\t\t\t\t\t\t\t\tif(self.youpiaoList[item].url == res.data.data.stampFile){\r\n\t\t\t\t\t\t\t\t\tself.indexpic = item\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconsole.log(self.indexpic)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tself.shoujianren_last = JSON.parse(JSON.stringify(self.shoujianren))\r\n\t\t\t\t\t\t\tself.jijianren_last = JSON.parse(JSON.stringify(self.jijianren))\r\n\t\t\t\t\t\t\tself.startTime_last = JSON.parse(JSON.stringify(self.startTime))\r\n\t\t\t\t\t\t\tself.endTime_last = JSON.parse(JSON.stringify(self.endTime))\r\n\t\t\t\t\t\t\tself.beizhu_last = JSON.parse(JSON.stringify(self.beizhu))\r\n\t\t\t\t\t\t\tself.indexpic_last = JSON.parse(JSON.stringify(self.indexpic))\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// console.log(self.letterHeadList)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl:\"../index/index\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.picnum = self.youpiaoList.length - 1 \r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\tonShow: function() {\r\n\t\t\tuni.hideNavigationBarLoading()\r\n\t\t\tuni.hideHomeButton()\r\n\t\t\t\r\n\t\t\tvar self = this\r\n\t\t\t//获取当前时间\r\n\t\t\tvar timeStr = self.dateTimeStr();\r\n\t\t\tself.startTime.year = String(timeStr.year)\r\n\t\t\tself.startTime.month = String(timeStr.month)\r\n\t\t\tself.startTime.day = String(timeStr.day)\r\n\r\n\t\t\t//获取当前用户名昵称\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'userInfo',\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tself.jijianren = res.data.nickName\r\n\t\t\t\t},\r\n\t\t\t\tfail: function() {\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl: \"../login/login\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 删除信封(letterhead表和letter表)\r\n\t\t\tdeleteLetter: function(){\r\n\t\t\t\tvar self = this\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:'https://afflatus.xyz/deleteLetter',\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tsession: self.session,\r\n\t\t\t\t\t\tletterid: self.letterid\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif(res.data.status==200){\r\n\t\t\t\t\t\t\tconsole.log(\"删除成功\")\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: \"../index/index\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log(\"删除失败\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\tconsole.log(\"删除失败\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 返回主页\r\n\t\t\treturnIndex: function(){\r\n\t\t\t\tvar self = this\r\n\t\t\t\t\r\n\t\t\t\t// 新建信封时\r\n\t\t\t\tif(self.haveSave == false){\r\n\t\t\t\t\t// 获取信封ID，以当前时间为准\r\n\t\t\t\t\tvar timedata = self.dateTimeStr()\r\n\t\t\t\t\tself.letterid = timedata.year + timedata.month + timedata.day + timedata.hour + timedata.minute + timedata.second\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 弹出是否保存\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: \"返回主页\",\r\n\t\t\t\t\t\tcontent: \"是否保存至草稿箱\",\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t// console.log('用户点击确定');\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\turl:'https://afflatus.xyz/updateLetterHead',\r\n\t\t\t\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\t\t\tsession: self.session,\r\n\t\t\t\t\t\t\t\t\t\tletterid: self.letterid,\r\n\t\t\t\t\t\t\t\t\t\tshoujianren: self.shoujianren,\r\n\t\t\t\t\t\t\t\t\t\tjijianren: self.jijianren,\r\n\t\t\t\t\t\t\t\t\t\tstartTime: self.startTime,\r\n\t\t\t\t\t\t\t\t\t\tendTime: self.endTime,\r\n\t\t\t\t\t\t\t\t\t\tbeizhu: self.beizhu,\r\n\t\t\t\t\t\t\t\t\t\tyoupiao: self.youpiaoList[self.indexpic].url,\r\n\t\t\t\t\t\t\t\t\t\thaveSave: self.haveSave //新建一个新的信封\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\t\turl: \"../index/index\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\telse if (res.cancel) {\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl: \"../index/index\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 打开已有的信封时\r\n\t\t\t\telse{\r\n\t\t\t\t\t// console.log(self.beizhu_last)\r\n\t\t\t\t\t// console.log(self.beizhu)\r\n\t\t\t\t\t//如果没有任何改变,则跳到Index页面\r\n\t\t\t\t\t// console.log(self.shoujianren_last == self.shoujianren)\r\n\t\t\t\t\t// console.log(self.jijianren_last == self.jijianren)\r\n\t\t\t\t\t// console.log(self.indexpic_last == self.indexpic)\r\n\t\t\t\t\t// console.log(self.startTime_last)\r\n\t\t\t\t\t// console.log(self.startTime)\r\n\t\t\t\t\t// console.log(JSON.stringify(self.startTime_last) == JSON.stringify(self.startTime))//\r\n\t\t\t\t\t// console.log(self.endTime_last == self.endTime)//\r\n\t\t\t\t\t// console.log(self.beizhu_last == self.beizhu)//\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(self.shoujianren_last == self.shoujianren && \r\n\t\t\t\t\t\tself.jijianren_last == self.jijianren &&\r\n\t\t\t\t\t\tJSON.stringify(self.startTime_last) == JSON.stringify(self.startTime) &&\r\n\t\t\t\t\t\tJSON.stringify(self.endTime_last) == JSON.stringify(self.endTime) &&\r\n\t\t\t\t\t\tJSON.stringify(self.beizhu_last) == JSON.stringify(self.beizhu) &&\r\n\t\t\t\t\t\tself.indexpic_last == self.indexpic){\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: \"../index/index\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//否则update\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tconsole.log('有东西改变了')\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// console.log(self.beizhu)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: \"发现更新\",\r\n\t\t\t\t\t\t\tcontent: \"是否保存更新\",\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm){\r\n\t\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\turl:'https://afflatus.xyz/updateLetterHead',\r\n\t\t\t\t\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\t\t\t\tsession: self.session,\r\n\t\t\t\t\t\t\t\t\t\t\tletterid: self.letterid,\r\n\t\t\t\t\t\t\t\t\t\t\tshoujianren: self.shoujianren,\r\n\t\t\t\t\t\t\t\t\t\t\tjijianren: self.jijianren,\r\n\t\t\t\t\t\t\t\t\t\t\tstartTime: self.startTime,\r\n\t\t\t\t\t\t\t\t\t\t\tendTime: self.endTime,\r\n\t\t\t\t\t\t\t\t\t\t\tbeizhu: self.beizhu,\r\n\t\t\t\t\t\t\t\t\t\t\tyoupiao: self.youpiaoList[self.indexpic].url,\r\n\t\t\t\t\t\t\t\t\t\t\thaveSave: self.haveSave \r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(res.data.status == 200){\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '../index/index'\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\turl: '../index/index'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 备注\r\n\t\t\tbeizhuGet: function(e) { //备注获得焦点\r\n\t\t\t\tthis.beizhuAll = this.beizhu.ziti1 + this.beizhu.ziti2 + this.beizhu.ziti3\r\n\t\t\t\t\r\n\t\t\t\tthis.beizhu.ziti1 = this.beizhuAll\r\n\t\t\t\tthis.beizhu.ziti2 = ''\r\n\t\t\t\tthis.beizhu.ziti3 = ''\r\n\t\t\t\tthis.shoujianMessageShow = false;\r\n\t\t\t\tthis.endTimeShow = false;\r\n\t\t\t\tthis.youpiaoShow = false;\r\n\t\t\t},\r\n\t\t\tbeizhuFinish: function(e) { //备注失去焦点\r\n\t\t\t\tlet strLength = this.beizhu.ziti1\r\n\t\t\t\tthis.beizhuAll = this.beizhu.ziti1\r\n\t\t\t\tif (strLength <= 17) {\r\n\t\t\t\t\tthis.beizhu.ziti1 = this.beizhuAll.substring(0, 17)\r\n\t\t\t\t} else if (strLength <= 34) {\r\n\t\t\t\t\tthis.beizhu.ziti1 = this.beizhuAll.substring(0, 17)\r\n\t\t\t\t\tthis.beizhu.ziti2 = this.beizhuAll.substring(17, 34)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.beizhu.ziti1 = this.beizhuAll.substring(0, 17)\r\n\t\t\t\t\tthis.beizhu.ziti2 = this.beizhuAll.substring(17, 34)\r\n\t\t\t\t\tthis.beizhu.ziti3 = this.beizhuAll.substring(34, 51)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 收件人信息\r\n\t\t\tshoujianClick: function() {\r\n\t\t\t\t// this.shoujianren = this.jijianren;\r\n\t\t\t\tthis.endTimeShow = false;\r\n\t\t\t\tthis.youpiaoShow = false;\r\n\t\t\t\tthis.shoujianMessageShow = true;\r\n\t\t\t},\r\n\t\t\tchooseWho: function(e) {\r\n\t\t\t\tthis.bottomDiv = e.detail.value;\r\n\t\t\t\tif (this.bottomDiv == 1) {\r\n\t\t\t\t\tthis.shoujianren = this.jijianren;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.shoujianren = '';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 日期\r\n\t\t\tendTimeClick: function() {\r\n\t\t\t\tthis.shoujianMessageShow = false;\r\n\t\t\t\tthis.youpiaoShow = false;\r\n\t\t\t\tthis.endTimeShow = true;\r\n\r\n\r\n\t\t\t\tif (this.endTime.day == '') {\r\n\t\t\t\t\tlet day = new Date();\r\n\t\t\t\t\tday.setTime(day.getTime() + 24 * 60 * 60 * 1000);\r\n\t\t\t\t\tlet date = day.getDate()\r\n\t\t\t\t\tdate >= 0 && date <= 9 ? (date = \"0\" + date) : \"\";\r\n\t\t\t\t\tthis.endDateStr = day.getFullYear() + \"-\" + (day.getMonth() + 1) + \"-\" + date;\r\n\t\t\t\t\tthis.endTime.day = date\r\n\t\t\t\t\tthis.endTime.year = day.getFullYear();\r\n\t\t\t\t\tthis.endTime.month = (day.getMonth() + 1);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tendTimechange: function(e) {\r\n\t\t\t\tlet day = e.date;\r\n\t\t\t\tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\tthis.endTime.day = day;\r\n\t\t\t\tthis.endTime.year = e.year;\r\n\t\t\t\tthis.endTime.month = e.month;\r\n\t\t\t},\r\n\t\t\tdateTimeStr: function() {\r\n\t\t\t\tvar date = new Date(),\r\n\t\t\t\t\tyear = date.getFullYear(), //年\r\n\t\t\t\t\tmonth = date.getMonth() + 1, //月\r\n\t\t\t\t\tday = date.getDate(), //日\r\n\t\t\t\t\thour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(), //时\r\n\t\t\t\t\tminute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(), //分\r\n\t\t\t\t\tsecond = date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds(); //秒\r\n\t\t\t\tmonth >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t\tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\thour >= 0 && hour <= 9 ? (hour = \"0\" + hour) : \"\";\r\n\t\t\t\tminute >= 0 && minute <= 9 ? (minute = \"0\" + minute) : \"\";\r\n\t\t\t\tsecond >= 0 && second <= 9 ? (second = \"0\" + second) : \"\";\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tyear,\r\n\t\t\t\t\tmonth,\r\n\t\t\t\t\tday,\r\n\t\t\t\t\thour,\r\n\t\t\t\t\tminute,\r\n\t\t\t\t\tsecond\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t// 邮票\r\n\t\t\tyoupiaoClick: function() {\r\n\t\t\t\tthis.shoujianMessageShow = false;\r\n\t\t\t\tthis.endTimeShow = false;\r\n\t\t\t\tthis.youpiaoShow = true;\r\n\r\n\t\t\t},\r\n\t\t\tstart: function(e) {\r\n\t\t\t\t// this.startData.clientX = e.changedTouches[0].clientX;\r\n\t\t\t\t// this.startData.clientY = e.changedTouches[0].clientY;\r\n\t\t\t},\r\n\t\t\tmove: function(e) {\r\n\t\t\t\t// const dom = uni.createSelectorQuery().select('.youpiaoMessage')\r\n\t\t\t\t// const subX = e.changedTouches[0].clientX - this.startData.clientX;\r\n\t\t\t\t// const subY = e.changedTouches[0].clientY - this.startData.clientY;\r\n\t\t\t\t// dom.fields({\r\n\t\t\t\t// \tsize:true\r\n\t\t\t\t// },\r\n\t\t\t\t// data=>{\r\n\t\t\t\t// \tconsole.log(data.height)\r\n\t\t\t\t// \tthis.fuckwidth = data.height + 'rpx'\r\n\t\t\t\t// }\r\n\t\t\t\t// )\r\n\r\n\t\t\t},\r\n\t\t\tend: function(e) {\r\n\t\t\t\t// const subX = e.changedTouches[0].clientX - this.startData.clientX;\r\n\t\t\t\t// const subY = e.changedTouches[0].clientY - this.startData.clientY;\r\n\t\t\t\t// if (subY > 50 || subY < -50) {\r\n\t\t\t\t// \tconsole.log('上下滑')\r\n\t\t\t\t// } else {\r\n\t\t\t\t// \tif (subX > 100) {\r\n\t\t\t\t// \t\tconsole.log('右滑')\r\n\t\t\t\t// \t} else if (subX < -100) {\r\n\t\t\t\t// \t\tconsole.log('左滑')\r\n\t\t\t\t// \t} else {\r\n\t\t\t\t// \t\tconsole.log('无效')\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tzuof: function() {\r\n\t\t\t\t// console.log(typeof this.indexpic)\r\n\t\t\t\tif (this.indexpic != 0) {\r\n\t\t\t\t\tthis.indexpic = Number(this.indexpic) - 1;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tyouf: function() {\r\n\t\t\t\t// console.log(typeof this.indexpic)\r\n\t\t\t\tif (this.indexpic != this.picnum) {\r\n\t\t\t\t\tthis.indexpic = Number(this.indexpic) + 1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 开始写信\r\n\t\t\tstartWrite: function() {\r\n\t\t\t\tvar self = this\r\n\t\t\t\t//检查信封信息是否正确\r\n\t\t\t\tif (this.shoujianren == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '收件人不完整',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.jijianren == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '寄件人不完整',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.endTime.year == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '寄送时间缺失',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t})\r\n\t\t\t\t} \r\n\t\t\t\t// else if 寄送时间不能是今天\r\n\t\t\t\t\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.shoujianMessageShow = false;\r\n\t\t\t\t\tthis.endTimeShow = false;\r\n\t\t\t\t\tthis.youpiaoShow = false;\r\n\r\n\t\t\t\t\t// 开启加载画面\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle:'新建信封中',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t//如果haveSave== false ，在服务器创建信封并保存\r\n\t\t\t\t\tif(this.haveSave == false){\r\n\t\t\t\t\t\t// 获取信封ID，以当前时间为准\r\n\t\t\t\t\t\tvar timedata = self.dateTimeStr()\r\n\t\t\t\t\t\tself.letterid = timedata.year + timedata.month + timedata.day + timedata.hour + timedata.minute + timedata.second\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//进入次页面时，上个页面需要往下传session，和haveSave（新建为false或者点击现有为true）。\r\n\t\t\t\t\t\t uni.request({\r\n\t\t\t\t\t\t \turl:'https://afflatus.xyz/updateLetterHead',\r\n\t\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\tsession: self.session,\r\n\t\t\t\t\t\t\t\tletterid: self.letterid,\r\n\t\t\t\t\t\t\t\tshoujianren: self.shoujianren,\r\n\t\t\t\t\t\t\t\tjijianren: self.jijianren,\r\n\t\t\t\t\t\t\t\tstartTime: self.startTime,\r\n\t\t\t\t\t\t\t\tendTime: self.endTime,\r\n\t\t\t\t\t\t\t\tbeizhu: self.beizhu,\r\n\t\t\t\t\t\t\t\tyoupiao: self.youpiaoList[self.indexpic].url,\r\n\t\t\t\t\t\t\t\thaveSave: self.haveSave //新建一个新的信封\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tif(res.data.status == 200){\r\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\turl: '../writeemail/writeemail?' + 'session=' + self.session + '&letterid=' + self.letterid\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t })\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// 如果没有改变\r\n\t\t\t\t\t\tif(self.shoujianren_last == self.shoujianren &&\r\n\t\t\t\t\t\t\tself.jijianren_last == self.jijianren &&\r\n\t\t\t\t\t\t\tJSON.stringify(self.startTime_last) == JSON.stringify(self.startTime) &&\r\n\t\t\t\t\t\t\tJSON.stringify(self.endTime_last) == JSON.stringify(self.endTime) &&\r\n\t\t\t\t\t\t\tJSON.stringify(self.beizhu_last) == JSON.stringify(self.beizhu) &&\r\n\t\t\t\t\t\t\tself.indexpic_last == self.indexpic){\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl: '../writeemail/writeemail?' + 'session=' + self.session + '&letterid=' + self.letterid\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//如果改变了\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl:'https://afflatus.xyz/updateLetterHead',\r\n\t\t\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\t\tsession: self.session,\r\n\t\t\t\t\t\t\t\t\tletterid: self.letterid,\r\n\t\t\t\t\t\t\t\t\tshoujianren: self.shoujianren,\r\n\t\t\t\t\t\t\t\t\tjijianren: self.jijianren,\r\n\t\t\t\t\t\t\t\t\tstartTime: self.startTime,\r\n\t\t\t\t\t\t\t\t\tendTime: self.endTime,\r\n\t\t\t\t\t\t\t\t\tbeizhu: self.beizhu,\r\n\t\t\t\t\t\t\t\t\tyoupiao: self.youpiaoList[self.indexpic].url,\r\n\t\t\t\t\t\t\t\t\thaveSave: self.haveSave //新建一个新的信封\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('fuck')\r\n\t\t\t\t\t\t\t\t\tif(res.data.status == 200){\r\n\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\t\turl: '../writeemail/writeemail?' + 'session=' + self.session + '&letterid=' + self.letterid\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t//   session: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjoibzZRb3c0eXFIZjVwSnBCRi1OX2NtbzJMbzR1ZyIsImlhdCI6MTY0MjAzNzY3NCwiZXhwIjoxNjUwNjc3Njc0fQ.jzWPf3wuaFstdUb4rph7Rq5vXTCdxXPLf9QbJZgfuAI',\r\n\t\t\t\t\t//   shoujianren: '微信用户',\r\n\t\t\t\t\t//   jijianren: '微信用户',\r\n\t\t\t\t\t//   startTime: { year: '2022', month: '01', day: '13' },\r\n\t\t\t\t\t//   endTime: { year: 2022, month: 1, day: 14 },\r\n\t\t\t\t\t//   beizhu: { ziti1: ' 测试', ziti2: '', ziti3: '' },\r\n\t\t\t\t\t//   youpiao: 'https://afflatus.xyz/image/youpiao2.jpg'，\r\n\t\t\t\t\t// haveSave: false\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t//如果haveSave== true， 并且其余都是未作改变，直接navigateTo 写信页面\r\n\t\t\t\t\t\r\n\t\t\t\t\t//如果haveSave== true， 并且其余有改变的， 则update服务器\r\n\t\t\t\t\t// nameChange: false,\r\n\t\t\t\t\t// timeChange: false,\r\n\t\t\t\t\t// beizhuChange: false,\r\n\t\t\t\t\t// youpiaoChange: false,\r\n\t\t\t\t\t// haveSave: false,\r\n\r\n\r\n\t\t\t\t\t// 关闭加载画面\r\n\t\t\t\t\tuni.hideLoading()\r\n\r\n\t\t\t\t\t//跳转到写信页面, 将session和letterid 带上\r\n\t\t\t\t\t//保留当前页面，跳转到应用内的某个页面\r\n\t\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t\t// \turl: '../writeemail/writeemail'\r\n\t\t\t\t\t// })\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t// watch: {\r\n\t\t// \tshoujianren(newVal, oldVal){\r\n\t\t// \t\tthis.contentChange = true\r\n\t\t// \t},\r\n\t\t// \tjijianren(newVal, oldVal){\r\n\t\t// \t\tthis.contentChange = true\r\n\t\t// \t},\r\n\t\t// \tstartTime(newVal, oldVal){\r\n\t\t// \t\tthis.contentChange = true\r\n\t\t// \t},\r\n\t\t// \tendTime(newVal, oldVal){\r\n\t\t// \t\tthis.contentChange = true\r\n\t\t// \t},\r\n\t\t// \tbeizhu(newVal, oldVal){\r\n\t\t// \t\tthis.contentChange = true\r\n\t\t// \t},\r\n\t\t// \tindexpic(newVal, oldVal){\r\n\t\t// \t\tthis.contentChange = true\r\n\t\t// \t}\r\n\t\t// }\r\n\t}\r\n</script>\r\n\r\n<style lang='scss'>\r\n\t@keyframes zhizhangMove {\r\n\t\tfrom {\r\n\t\t\tpadding-top: 0%;\r\n\t\t\topacity: 0\r\n\t\t}\r\n\r\n\t\tto {\r\n\t\t\tpadding-top: 60%;\r\n\t\t\topacity: 1\r\n\t\t}\r\n\t}\r\n\r\n\t.setemail {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #F5F5F5;\r\n\t}\r\n\t\r\n\t.setemail .back-btn {\r\n\t\t\twidth: 100%;\r\n\t\t\tposition: absolute;\r\n\t\t\tz-index: 8;\r\n\t\t\tpadding-top: var(--status-bar-height);\r\n\t\t\tpadding-left: 40upx;\r\n\t\t\tpadding-right: 40upx;\r\n\t\t\ttop: 40upx;\r\n\t\t\tfont-size: 40upx;\r\n\t\t\tcolor: #1E1E1E;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\t.nav-title {\r\n\t\t\t\twidth: 590upx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\t}\r\n\r\n\t.setemail .bg {\r\n\t\tanimation: zhizhangMove 1.3s;\r\n\t\tpadding-top: 60%;\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t.setemail .bg .zhizhang {\r\n\t\tposition: relative;\r\n\t\ttop: 0rpx;\r\n\t\tleft: 0rpx;\r\n\t}\r\n\r\n\t.setemail .bg .zhizhang .shoujianTian {\r\n\t\tposition: absolute;\r\n\t\ttop: 15.38rpx;\r\n\t\tleft: 21.15rpx;\r\n\t\twidth: 240.38rpx;\r\n\t\theight: 55.76rpx;\r\n\t\tbackground-color: #000000;\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t.setemail .bg .zhizhang .endTimeTian {\r\n\t\tposition: absolute;\r\n\t\ttop: 78.84rpx;\r\n\t\tleft: 353.84rpx;\r\n\t\twidth: 211.53rpx;\r\n\t\theight: 55.76rpx;\r\n\t\tbackground-color: #000000;\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t.setemail .bg .zhizhang .beizhuTian {\r\n\t\tposition: absolute;\r\n\t\tleft: 153.84rpx;\r\n\t\ttop: 148.07rpx;\r\n\t\twidth: 398.07rpx;\r\n\t\theight: 105.76rpx;\r\n\t\tbackground-color: #000000;\r\n\t\topacity: 0;\r\n\t\tcolor: transparent;\r\n\t}\r\n\r\n\t.setemail .bg .zhizhang .youpiaoTian {\r\n\t\tposition: absolute;\r\n\t\twidth: 142.3rpx;\r\n\t\theight: 130.76rpx;\r\n\t\ttop: 25.23rpx;\r\n\t\tright: 20.38rpx;\r\n\t\topacity: 1;\r\n\t}\r\n\t\r\n\r\n\t.setemail .bg .shoujianMessage {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.setemail .bg .shoujianMessage .messageHeader {\r\n\t\tcolor: #A4A5A7;\r\n\t\tfont-size: 26.92rpx;\r\n\t\tmargin-top: 17.3rpx;\r\n\t}\r\n\r\n\t.setemail .bg .shoujianMessage .Who {\r\n\t\tfont-size: 26.92rpx;\r\n\t\tmargin-top: 11.53rpx;\r\n\t}\r\n\r\n\t.setemail .bg .shoujianMessage .Who radio {\r\n\t\ttransform: scale(0.7);\r\n\t}\r\n\r\n\t.setemail .bg .shoujianMessage .Who label {\r\n\t\tmargin-right: 30rpx;\r\n\t}\r\n\r\n\t.picker-view {\r\n\t\twidth: 750rpx;\r\n\t\theight: 600rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\r\n\t.item {\r\n\t\theight: 50px;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.setemail .bg .youpiaoMessage {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-top: 120rpx;\r\n\t\twidth: 100%;\r\n\t\theight: 298.07rpx;\r\n\t}\r\n\r\n\t.setemail .bg .youpiaoMessage view {\r\n\t\talign-self: center;\r\n\t}\r\n\r\n\t/* \t.setemail .bg .youpiaoMessage .leftImg {\r\n\t\talign-self: center;\r\n\t\tmargin-right: 26.92rpx;\r\n\t\theight: 150rpx;\r\n\t\twidth: 340.38rpx;\r\n\t\tborder-radius: 19.23rpx;\r\n\t\topacity: 0.25;\r\n\t} */\r\n\r\n\t/* \t.setemail .bg .youpiaoMessage .rightImg {\r\n\t\talign-self: center;\r\n\t\theight: 150rpx;\r\n\t\twidth: 340.38rpx;\r\n\t\tborder-radius: 19.23rpx;\r\n\t\topacity: 0.25;\r\n\t} */\r\n\r\n\t.setemail .bg .youpiaoMessage .MiddleImg {\r\n\t\talign-self: center;\r\n\t\t/* \t\tmargin-right: 26.92rpx;\r\n */\r\n\t\theight: 100%;\r\n\t\twidth: 405.76rpx;\r\n\t\tborder-radius: 19.23rpx;\r\n\t}\r\n\r\n\t.setemail .bg .buttonWrite {\r\n\t\tposition: absolute;\r\n\t\ttop: 150rpx;\r\n\t\tright: 0rpx;\r\n\t}\r\n\t\r\n\t.setemail .bg .buttonDelete {\r\n\t\tposition: absolute;\r\n\t\ttop: 263rpx;\r\n\t\tright: 0rpx;\r\n\t}\r\n\t\r\n\t.setemail .buttonReturn{\r\n\t\tposition: absolute;\r\n\t\ttop: 79rpx;\r\n\t\tleft: 0rpx;\r\n\t\tz-index: 10;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n</style>\n","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setemail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setemail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1643185978379\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}